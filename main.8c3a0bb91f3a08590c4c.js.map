{"version":3,"sources":["webpack:///./js/first.js","webpack:///./js/fetchCountries.js"],"names":["defaults","styling","icons","defaultModules","set","PNotifyMobile","inputRef","document","querySelector","searchResultsRef","addEventListener","debounce","event","innerHTML","searchQuery","target","value","fetch","then","result","json","data","length","alert","text","type","delay","template","reduce","acc","item","name","insertAdjacentHTML","console","log","templateLang","languages","templateCountry","capital","population","flag","catch"],"mappings":"sOAMAA,WAASC,QAAU,cACnBD,WAASE,MAAQ,cAEjBC,iBAAeC,IAAIC,EAAe,IAElC,IAAMC,EAAWC,SAASC,cAAc,WAClCC,EAAmBF,SAASC,cAAc,mBAChDF,EAASI,iBAAiB,QAASC,KAEnC,SAAqBC,GACnBH,EAAiBI,UAAY,IChBQC,EDiBXF,EAAMG,OAAOC,MChBhCC,MAAM,yCAC8BH,GACzCI,MAAK,SAAAC,GAAM,OAAIA,EAAOC,WDgBrBF,MAAK,SAAAG,GAQJ,GAPIA,EAAKC,OAAS,IAChBC,gBAAM,CACJC,KAAM,8DACNC,KAAM,QACNC,MAAO,MAGPL,EAAKC,QAAU,GAAKD,EAAKC,QAAU,GAAI,CACzC,IAAMK,EACJ,OACAN,EAAKO,QAAO,SAACC,EAAKC,GAEhB,OADAD,GAAO,OAAOC,EAAKC,KAAhB,UAEF,IACH,QACFtB,EAAiBuB,mBAAmB,YAAaL,GAEnD,GAAoB,IAAhBN,EAAKC,OAAc,CACrBW,QAAQC,IAAIb,GACZ,IAAMc,EAAed,EAAK,GAAGe,UAAUR,QAAO,SAACC,EAAKC,GAElD,OADAD,GAAO,OAAOC,EAAKC,KAAhB,UAEF,IACGM,EAAkB,OAAOhB,EAAK,GAAGU,KAAlB,4BACTV,EAAK,GAAGiB,QADC,8BAENjB,EAAK,GAAGkB,WAFF,sCAGEJ,EAHF,0BAIXd,EAAK,GAAGmB,KAJG,sBAKrB/B,EAAiBuB,mBAAmB,YAAaK,OAGpDI,MAAMR,QAAQC,KCnDJ,IAAwBpB,IDakB,Q","file":"main.8c3a0bb91f3a08590c4c.js","sourcesContent":["import debounce from 'lodash.debounce';\r\nimport { alert, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport fetchCountries from '/js/fetchCountries.js';\r\nimport { defaults } from '@pnotify/core';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\ndefaults.styling = 'brighttheme';\r\ndefaults.icons = 'brighttheme';\r\n\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\nconst inputRef = document.querySelector('.search');\r\nconst searchResultsRef = document.querySelector('.search-results');\r\ninputRef.addEventListener('input', debounce(handleInput, 500));\r\n\r\nfunction handleInput(event) {\r\n  searchResultsRef.innerHTML = '';\r\n  const countrySearchName = event.target.value;\r\n  fetchCountries(countrySearchName)\r\n    .then(data => {\r\n      if (data.length > 10) {\r\n        alert({\r\n          text: 'Too many matches found. Please enter a more specific query!',\r\n          type: 'error',\r\n          delay: 4000,\r\n        });\r\n      }\r\n      if (data.length >= 2 && data.length <= 10) {\r\n        const template =\r\n          '<ul>' +\r\n          data.reduce((acc, item) => {\r\n            acc += `<li>${item.name}</li>`;\r\n            return acc;\r\n          }, '') +\r\n          '</ul>';\r\n        searchResultsRef.insertAdjacentHTML('beforeend', template);\r\n      }\r\n      if (data.length === 1) {\r\n        console.log(data);\r\n        const templateLang = data[0].languages.reduce((acc, item) => {\r\n          acc += `<li>${item.name}</li>`;\r\n          return acc;\r\n        }, '');\r\n        const templateCountry = `<h2>${data[0].name}</h2>\r\n      <p>Capital: ${data[0].capital}</p>\r\n      <p>Population: ${data[0].population}</p>\r\n      <h3>Languages:</h3><ul>${templateLang}</ul>\r\n      <img src=\"${data[0].flag}\" alt=\"flag\"></img>`;\r\n        searchResultsRef.insertAdjacentHTML('beforeend', templateCountry);\r\n      }\r\n    })\r\n    .catch(console.log);\r\n}\r\n","export default function fetchCountries(searchQuery) {\r\n  return fetch(\r\n    `https://restcountries.eu/rest/v2/name/${searchQuery}`,\r\n  ).then(result => result.json());\r\n}\r\n"],"sourceRoot":""}